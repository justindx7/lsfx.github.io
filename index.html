<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="question.css">
    <link rel="stylesheet" href="cookie.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-H41QVV2HSR"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}

      gtag('js', new Date());
      gtag('consent', 'default', {
        'analytics_storage': 'denied'
      });

      function handleConsent(granted) {
        if (granted) {
          gtag('consent', 'update', {
            'analytics_storage': 'granted'
          });
          gtag('config', 'G-H41QVV2HSR');
        } else {
          gtag('consent', 'update', {
            'analytics_storage': 'denied'
          });
        }
      }

      function userGivesConsent() {
        handleConsent(true);
      }

      function userDeniesConsent() {
        handleConsent(false);
      }
    </script>

    <title>Laser Sound Effects</title>
</head>
<body>
    <h1>Laser Sound Effects</h1>
    <div id="homepage" class="homepage">
      <div class="home-container">
        <h2>Laser Type</h2>
        <div class="TypeSelection">
            <div class="LaserTypeButtonContainer">
                <p class="laser-title">Classic</p>
                <img class="Pictogram" src="assets/Classic.png" alt="Classic">
                <p>Ol' Reliable. Your standard duty laser pistol. You could probably hold it in one hand.</p>
                <button onclick="goToSurvey('1')">Go</button>
            </div>
            <div class="LaserTypeButtonContainer">
                <p class="laser-title">Blaster</p>
                <img class="Pictogram" src="assets/Blaster.png" alt="Blaster">
                <p>Our team of nerds is frantically experimenting with the blaster. Not safe yet for field use.</p>
                <button disabled>Disabled</button>
            </div>
            <div class="LaserTypeButtonContainer">
                <p class="laser-title">Burst</p>
                <img class="Pictogram" src="assets/Burst.png" alt="Burst">
                <p>Designed specifically to turn your enemies into Swiss Cheese. RATATATA.</p>
                <button onclick="goToSurvey('3')">Go</button>
            </div>
        </div>
          <div class="Control">
            <button class="playPause" type="button" data-playing="false" role="switch" aria-checked="false">Demo</button>
            <div class="VolumeControl">
              <label for="volume">Volume</label>
              <input type="range" class="slider" id="volume" min="0" max="1" value="0.5" step="0.01" />
            </div>
        </div>
      </div>
    </div>

    <div id="1" class="survey-page" style="display: none;">
        <h2>Classic</h2>
        <div class="BackgroundContainer">
          <div class="Org">
            <img class="BackgroundElement" src="assets/Target.png" alt="background">
            <img class="EmptyBackgroundElement" src="assets/Target.png" alt="background">
            <img class="BackgroundElement" src="assets/Whiteboard.png" alt="background">
          </div>
          <div class="Org">
            <img class="BackgroundElement" src="assets/Whiteboard.png" alt="background">
            <img class="EmptyBackgroundElement" src="assets/Target.png" alt="background">
            <img class="BackgroundElement" src="assets/Target.png" alt="background">
          </div>
        </div>
        <div class="QuestionContainer">
            <div class="question">
                <p>1. Speed</p>
                <div class="radio-input-wrapper">
                  <label class="label">
                    <input value="1" name="speed" id="value-2" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Slow</div>
                  </label>
                  <label class="label">
                    <input value="2" name="speed" id="value-3" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Moderate</div>
                  </label>
                  <label class="label">
                    <input value="3" name="speed" id="value-4" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Fast</div>
                  </label>
                </div>
            </div>
            <div class="question">
                <p>2. Weight</p>
                <div class="radio-input-wrapper">
                  <label class="label">
                    <input value="1" name="weight" id="value-2" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Light</div>
                  </label>
                  <label class="label">
                    <input value="2" name="weight" id="value-3" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Moderate</div>
                  </label>
                  <label class="label">
                    <input value="3" name="weight" id="value-4" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Heavy</div>
                  </label>
                </div>
            </div>
            <div class="question">
                <p>3. Color</p>
                <div class="radio-input-wrapper">
                  <label class="label">
                    <input value="1" name="color" id="value-2" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Clean</div>
                  </label>
                  <label class="label">
                    <input value="2" name="color" id="value-3" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Dirty</div>
                  </label>
                  <label class="label">
                    <input value="3" name="color" id="value-4" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Rough</div>
                  </label>
                </div>
            </div>
            <div class="question">
                <p>4. Compression Amount</p>
                    <div class="slider-container">
                        <span>0</span>
                        <input type="range" class="slider" name="compressionAmount" min="0" max="3" value="1" oninput="updateSliderValue(this)">
                        <span>3</span>
                        <span class="slider-value">1</span>
                    </div>
            </div>
            <div class="question">
                <p>5. Compression Intensity</p>
                    <div class="slider-container">
                        <span>10</span>
                        <input type="range" class="slider" name="satisfaction" min="10" max="1000" value="10" oninput="updateSliderValue(this)">
                        <span>1000</span>
                        <span class="slider-value">10</span>
                    </div>
            </div>
        </div>
            <div class="Control">
                <button onclick="submitSurvey('1')">Generate</button>
                <button class="playPause" type="button" data-playing="false" role="switch" aria-checked="false">Play</button>
                <div class="VolumeControl">
                  <label for="volume">Volume</label>
                  <input type="range" class="slider" onchange="audioBackend.setGain(value)" min="0" max="1" value="0.5" step="0.01" />
                </div>
                <button onclick="handleDownloadWav()" >Download</button>
                <button onclick="goToHomepage()">Back</button>
            </div>
    </div>

    <div id="2" class="survey-page" style="display: none;">
        <img class="BackgroundImage" src="assets/Background.png" alt="background">
        <button onclick="goToHomepage()">Back</button>
    </div>

    <div id="3" class="survey-page" style="display: none;">
        <h2>Burst Laser</h2>
        <div class="BackgroundContainer">
          <div class="Org">
            <img class="BackgroundElement" src="assets/Target.png" alt="background">
            <img class="EmptyBackgroundElement" src="assets/Target.png" alt="background">
            <img class="BackgroundElement" src="assets/Whiteboard.png" alt="background">
          </div>
          <div class="Org">
            <img class="BackgroundElement" src="assets/Whiteboard.png" alt="background">
            <img class="EmptyBackgroundElement" src="assets/Target.png" alt="background">
            <img class="BackgroundElement" src="assets/Target.png" alt="background">
          </div>
        </div>
        <div class="QuestionContainer">
            <div class="question">
                <p>1. Number of Rounds</p>
                <div class="slider-group">
                    <div class="slider-container">
                        <span>3</span>
                        <input type="range" class="slider" name="roundsAmount" min="3" max="11" value="5" oninput="updateSliderValue(this)">
                        <span>11</span>
                        <span class="slider-value">5</span>
                    </div>
                </div>
            </div>
            <div class="question">
                <p>2. Speed</p>
                <div class="radio-input-wrapper">
                  <label class="label">
                    <input value="1" name="speed" id="value-2" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Slow</div>
                  </label>
                  <label class="label">
                    <input value="2" name="speed" id="value-3" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Moderate</div>
                  </label>
                  <label class="label">
                    <input value="3" name="speed" id="value-4" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Fast</div>
                  </label>
                </div>
            </div>
            <div class="question">
                <p>3. Weight</p>
                <div class="radio-input-wrapper">
                  <label class="label">
                    <input value="1" name="weight" id="value-2" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Light</div>
                  </label>
                  <label class="label">
                    <input value="2" name="weight" id="value-3" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Moderate</div>
                  </label>
                  <label class="label">
                    <input value="3" name="weight" id="value-4" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Heavy</div>
                  </label>
                </div>
            </div>
            <div class="question">
                <p>4. Color</p>
                <div class="radio-input-wrapper">
                  <label class="label">
                    <input value="1" name="color" id="value-2" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Clean</div>
                  </label>
                  <label class="label">
                    <input value="2" name="color" id="value-3" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Dirty</div>
                  </label>
                  <label class="label">
                    <input value="3" name="color" id="value-4" class="radio-input" type="radio">
                    <div class="radio-design"></div>
                    <div class="label-text">Rough</div>
                  </label>
                </div>
            </div>
            <div class="question">
                <p>5. Variance</p>
                <div class="slider-group">
                    <div class="slider-container">
                        <span>0</span>
                        <input type="range" class="slider" name="variance" min="0" max="100" value="10" oninput="updateSliderValue(this)">
                        <span>100</span>
                        <span class="slider-value">10</span>
                    </div>
                </div>
            </div>
            <div class="question">
                <p>4. Compression Amount</p>
                <div class="slider-group">
                    <div class="slider-container">
                        <span>0</span>
                        <input type="range" class="slider" name="compressionAmount" min="0" max="3" value="1" oninput="updateSliderValue(this)">
                        <span>3</span>
                        <span class="slider-value">1</span>
                    </div>
                </div>
            </div>
            <div class="question">
                <p>6. Compression Intensity</p>
                <div class="slider-group">
                    <div class="slider-container">
                        <span>10</span>
                        <input type="range" class="slider" name="compressionIntensity" min="10" max="1000" value="10" oninput="updateSliderValue(this)">
                        <span>1000</span>
                        <span class="slider-value">10</span>
                    </div>
                </div>
            </div>
        </div>
        <div>

            <div class="Control">
                <button onclick="submitSurvey('3')">Generate</button>
                <button class="playPause" type="button" data-playing="false" role="switch" aria-checked="false">Play</button>
                <div class="VolumeControl">
                  <label for="volume">Volume</label>
                  <input type="range" class="slider" onchange="audioBackend.setGain(value)" min="0" max="1" value="0.5" step="0.01" />
                </div>
                <button onclick="handleDownloadWav()" >Download</button>
                <button onclick="goToHomepage()">Back</button>
            </div>
        </div>
    </div>

    <div id="cookie-banner" style="display: none; position: fixed; bottom: 0; left: 0; width: 100%; background-color: #333; color: #fff; padding: 15px; text-align: center; z-index: 1000;">
        <p>We use cookies to analyze site traffic and improve your experience. You can accept or decline these cookies.</p>
        <button id="accept-cookies" onclick="userGivesConsent()">Accept</button>
        <button id="decline-cookies" onclick="userDeniesConsent()">Decline</button>
    </div>
    <div id="cookie-settings" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: #fff; color: #333; padding: 20px; border: 1px solid #ccc; z-index: 1001;">
        <h3>Customize Cookie Preferences</h3>
        <form id="cookie-preferences-form">
            <label>
                <input type="checkbox" id="analytics-cookies" checked>
                Allow Analytics Cookies
            </label>
            <br>
            <button type="button" id="save-cookie-preferences">Save Preferences</button>
        </form>
    </div>

    <div class="footnotes">
      <p id="footnote1">
          Justin & Decap<br>
          <a href="https://docs.google.com/forms/d/e/1FAIpQLScQlrQeoqkCjKGnOL3qK84UzJdfNqZpXxnGOkFnDphbl6Lkyg/viewform?usp=header" target="_blank"> Give Feedback </a>
      </p>
    </div>

    <script src="audioExporter.js"></script>
    <script src="audioBackend.js"></script>
    <script src="main.js"></script>
    <script src="cookie.js"></script>
    <script src="LSFx.js"></script>
</body>
</html>
